"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[389],{3389:(j,l,d)=>{d.r(l),d.d(l,{TakeAttendance:()=>F});var g=d(4086),f=d(6661),o=d(4341),e=d(3664),s=d(8728),h=d(2200),m=d(3413);const _=n=>({"is-invalid":n});function u(n,r){1&n&&(e.j41(0,"div"),e.EFF(1," Please enter the start date. "),e.k0s())}function p(n,r){if(1&n&&(e.j41(0,"div",16),e.DNE(1,u,2,0,"div",17),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.f.startDate.errors.required)}}function P(n,r){1&n&&(e.j41(0,"div"),e.EFF(1," Please enter the end date. "),e.k0s())}function b(n,r){if(1&n&&(e.j41(0,"div",16),e.DNE(1,P,2,0,"div",17),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.f.endDate.errors.required)}}function k(n,r){1&n&&(e.j41(0,"div",14)(1,"div",18),e.nrm(2,"span",19),e.k0s()())}function x(n,r){if(1&n&&(e.j41(0,"th")(1,"div",29),e.EFF(2),e.k0s()()),2&n){const t=r.$implicit;e.R7$(2),e.SpI(" ",t.date," ")}}function v(n,r){if(1&n){const t=e.RV6();e.j41(0,"td")(1,"div",31)(2,"input",32),e.mxI("ngModelChange",function(a){const c=s.eBV(t).$implicit;return e.DH7(c.isPresent,a)||(c.isPresent=a),s.Njj(a)}),e.k0s(),e.nrm(3,"label",33),e.k0s()()}if(2&n){const t=r.$implicit,i=e.XpG().$implicit;e.R7$(2),e.Y8G("id",e.ai1("",i.id,"-",t.date)),e.R50("ngModel",t.isPresent),e.R7$(),e.Y8G("for",e.ai1("",i.id,"-",t.date))}}function C(n,r){if(1&n&&(e.j41(0,"tr")(1,"th",30),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.Z7z(5,v,4,7,"td",null,e.fX1),e.k0s()),2&n){const t=r.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.fullName),e.R7$(),e.Dyx(t.records)}}function T(n,r){1&n&&(e.j41(0,"tr")(1,"td",34),e.EFF(2," No users found. "),e.k0s()())}function M(n,r){if(1&n){const t=e.RV6();e.j41(0,"li",28)(1,"a",27),e.bIt("click",function(){const a=s.eBV(t).$implicit,c=e.XpG(3);return s.Njj(c.goToPage(a))}),e.EFF(2),e.k0s()()}if(2&n){const t=r.$implicit,i=e.XpG(3);e.R7$(),e.AVh("active",t===i.currentPage),e.R7$(),e.SpI(" ",t," ")}}function D(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"input",21),e.mxI("ngModelChange",function(a){s.eBV(t);const c=e.XpG(2);return e.DH7(c.searchTerm,a)||(c.searchTerm=a),s.Njj(a)}),e.k0s()(),e.j41(2,"div",22)(3,"table",23)(4,"thead")(5,"tr")(6,"th"),e.EFF(7,"ID"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Full name"),e.k0s(),e.Z7z(10,x,3,1,"th",null,e.fX1),e.k0s()(),e.j41(12,"tbody"),e.Z7z(13,C,7,2,"tr",null,e.fX1,!1,T,3,0,"tr"),e.k0s()(),e.j41(16,"nav",24)(17,"ul",25)(18,"li",26)(19,"a",27),e.bIt("click",function(){s.eBV(t);const a=e.XpG(2);return s.Njj(a.prevPage())}),e.EFF(20,"Previous"),e.k0s()(),e.Z7z(21,M,3,3,"li",28,e.fX1),e.j41(23,"li",28)(24,"a",27),e.bIt("click",function(){s.eBV(t);const a=e.XpG(2);return s.Njj(a.nextPage())}),e.EFF(25,"Next"),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(),e.R50("ngModel",t.searchTerm),e.R7$(9),e.Dyx(t.pagedUsers[0].records),e.R7$(3),e.Dyx(t.pagedUsers),e.R7$(5),e.AVh("disabled",1===t.currentPage),e.R7$(3),e.Dyx(t.pages),e.R7$(2),e.AVh("disabled",t.currentPage===t.totalPages)}}function E(n,r){if(1&n&&(e.j41(0,"div"),e.nVh(1,D,26,6),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.vxM(t.isLoading?-1:1)}}function O(n,r){1&n&&(e.j41(0,"div",35)(1,"h5"),e.EFF(2,"No users found"),e.k0s()())}let F=(()=>{class n{constructor(t){this.fb=t,this.currentPage=1,this.pageLimit=5,this.isLoading=!1,this.searchTerm="",this.totalElements=0,this.startDate="",this.endDate="",this.submitted=!1,this.users=[]}ngOnInit(){this.searchForm=this.fb.group({startDate:["",[o.k0.required]],endDate:["",[o.k0.required]]})}get f(){return this.searchForm.controls}get pagedUsers(){const t=(this.currentPage-1)*this.pageLimit;return this.filteredUsers.slice(t,t+this.pageLimit)}get filteredUsers(){return this.searchTerm.trim()?(this.utilityService.print("Search for "+this.searchTerm),this.users.filter(t=>t.fullName.toLowerCase().includes(this.searchTerm.toLowerCase()))):this.users}get totalPages(){return Math.ceil(this.filteredUsers.length/this.pageLimit)}prevPage(){this.currentPage>1&&this.currentPage--}goToPage(t){this.currentPage=t,this.utilityService.print("Go to page: "+this.currentPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}getUsers(){this.submitted=!0,!this.searchForm.invalid&&(this.users=[{id:"1",fullName:"minaemad",mobilePhone:"01125037505",birthDate:"01-05-2011",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1}]},{id:"2",fullName:"minaemad1",mobilePhone:"01325037505",birthDate:"23-5-2001",records:[{date:"7-11-2025",isPresent:!1},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!1}]},{id:"3",fullName:"minaemad2",mobilePhone:"01125037505",birthDate:"23-5-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!1},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!1}]},{id:"4",fullName:"minaemad3",mobilePhone:"01125037405",birthDate:"23-6-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!0}]},{id:"5",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!1},{date:"14-11-2025",isPresent:!1},{date:"21-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1}]},{id:"6",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!0}]},{id:"7",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!1},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!1},{date:"28-11-2025",isPresent:!1}]},{id:"8",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!0},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!0}]},{id:"9",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!1},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!0}]},{id:"10",fullName:"minaemad4",mobilePhone:"01125037505",birthDate:"20-5-2001",records:[{date:"7-11-2025",isPresent:!0},{date:"14-11-2025",isPresent:!1},{date:"21-11-2025",isPresent:!0},{date:"28-11-2025",isPresent:!1}]}],this.totalElements=this.users.length,this.pages=Array.from({length:this.totalPages},(t,i)=>i+1))}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(o.ok))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-take-attendance"]],decls:23,vars:13,consts:[["noUsers",""],[1,"row"],[1,"col-xl-12"],["cardTitle","Take attendance","blockClass","table-border-style",3,"options"],[1,"d-flex","align-items-center","gap-3","mb-3"],["novalidate","",3,"ngSubmit","formGroup"],[1,"d-flex","gap-3","mb-3"],[1,"flex-grow-1"],["for","startDate",1,"form-label","fw-bold"],["formControlName","startDate","id","startDate","type","date",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","endDate",1,"form-label","fw-bold"],["formControlName","endDate","id","endDate","type","date",1,"form-control",3,"ngClass"],[1,"btn","btn-primary"],[1,"d-flex","justify-content-center","align-items-center",2,"height","80vh"],[4,"ngIf","ngIfElse"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-muted","text-center"],[1,"loader"],[1,"d-flex","justify-content-start"],["type","text","placeholder","Search by name...",1,"form-control","w-25",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","table-striped"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item","disabled"],["href","javascript:",1,"page-link",3,"click"],[1,"page-item"],[1,"d-flex","justify-content-center"],["scope","row"],[1,"checkbox-wrapper-19","d-flex","justify-content-center"],["type","checkbox",3,"ngModelChange","id","ngModel"],[1,"check-box",3,"for"],["colspan","5",1,"text-center","text-muted"],[1,"text-center","text-muted","py-5","border","rounded","bg-light"]],template:function(i,a){if(1&i){const c=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"app-card",3)(3,"div",4)(4,"form",5),e.bIt("ngSubmit",function(){return s.eBV(c),s.Njj(a.getUsers())}),e.j41(5,"div",6)(6,"div",7)(7,"label",8),e.EFF(8,"Start Date"),e.k0s(),e.nrm(9,"input",9),e.DNE(10,p,2,1,"div",10),e.k0s(),e.j41(11,"div",7)(12,"label",11),e.EFF(13,"End Date"),e.k0s(),e.nrm(14,"input",12),e.DNE(15,b,2,1,"div",10),e.k0s()(),e.j41(16,"button",13),e.EFF(17,"Search"),e.k0s()()(),e.nrm(18,"hr"),e.nVh(19,k,3,0,"div",14),e.DNE(20,E,2,1,"div",15)(21,O,3,0,"ng-template",null,0,e.C5r),e.k0s()()()}if(2&i){const c=e.sdS(22);e.R7$(2),e.Y8G("options",!1),e.R7$(2),e.Y8G("formGroup",a.searchForm),e.R7$(5),e.Y8G("ngClass",e.eq3(9,_,a.submitted&&a.f.startDate.invalid)),e.R7$(),e.Y8G("ngIf",a.submitted&&a.f.startDate.errors),e.R7$(4),e.Y8G("ngClass",e.eq3(11,_,a.submitted&&a.f.endDate.invalid)),e.R7$(),e.Y8G("ngIf",a.submitted&&a.f.endDate.errors),e.R7$(4),e.vxM(a.isLoading?19:-1),e.R7$(),e.Y8G("ngIf",a.users.length>0)("ngIfElse",c)}},dependencies:[g.G,h.YU,h.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.vS,o.j4,o.JD,m.i,f.J],styles:['.checkbox-wrapper-19[_ngcontent-%COMP%]{box-sizing:border-box;--background-color: #fff;--checkbox-height: 25px;min-width:100px}@keyframes _ngcontent-%COMP%_dothabottomcheck-19{0%{height:0}to{height:calc(var(--checkbox-height) / 2)}}@keyframes _ngcontent-%COMP%_dothatopcheck-19{0%{height:0}50%{height:0}to{height:calc(var(--checkbox-height) * 1.2)}}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]{height:var(--checkbox-height);width:var(--checkbox-height);background-color:transparent;border:calc(var(--checkbox-height) * .1) solid #000;border-radius:5px;position:relative;display:inline-block;box-sizing:border-box;transition:border-color ease .2s;cursor:pointer}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:before, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:after{box-sizing:border-box;position:absolute;height:0;width:calc(var(--checkbox-height) * .2);background-color:#34b93d;display:inline-block;transform-origin:left top;border-radius:5px;content:" ";transition:opacity ease .5}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:before{top:calc(var(--checkbox-height) * .72);left:calc(var(--checkbox-height) * .41);box-shadow:0 0 0 calc(var(--checkbox-height) * .05) var(--background-color);transform:rotate(-135deg)}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:after{top:calc(var(--checkbox-height) * .37);left:calc(var(--checkbox-height) * .05);transform:rotate(-45deg)}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%], .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]{border-color:#34b93d}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%]:after, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]:after{height:calc(var(--checkbox-height) / 2);animation:_ngcontent-%COMP%_dothabottomcheck-19 .2s ease 0s forwards}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%]:before, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]:before{height:calc(var(--checkbox-height) * 1.2);animation:_ngcontent-%COMP%_dothatopcheck-19 .4s ease 0s forwards}']})}}return n})()}}]);