"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[518],{518:(R,c,s)=>{s.r(c),s.d(c,{UserDetails:()=>G});var a=s(4341),f=s(6661),g=s(4086),e=s(3664),o=s(8728),m=s(9211),p=s(4286),u=s(2200),h=s(3413);const _=i=>({"is-invalid":i});function v(i,d){1&i&&(e.j41(0,"div",1)(1,"div",2),e.nrm(2,"span",3),e.k0s()())}function b(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Please enter the Full name. "),e.k0s())}function D(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Full Name must be at least 3 characters. "),e.k0s())}function C(i,d){if(1&i&&(e.j41(0,"div",26),e.DNE(1,b,2,0,"div",27)(2,D,2,0,"div",27),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.f.fullName.errors.required),e.R7$(),e.Y8G("ngIf",t.f.fullName.errors.minlength)}}function M(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Please enter the Mobile number. "),e.k0s())}function E(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Mobile number must be at least 11 characters. "),e.k0s())}function F(i,d){if(1&i&&(e.j41(0,"div",26),e.DNE(1,M,2,0,"div",27)(2,E,2,0,"div",27),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.f.mobile.errors.required),e.R7$(),e.Y8G("ngIf",t.f.mobile.errors.minlength)}}function j(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Please enter the grade. "),e.k0s())}function x(i,d){if(1&i&&(e.j41(0,"div",26),e.DNE(1,j,2,0,"div",27),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.f.grade.errors.required)}}function k(i,d){1&i&&(e.j41(0,"div"),e.EFF(1," Please enter the Brith date. "),e.k0s())}function I(i,d){if(1&i&&(e.j41(0,"div",26),e.DNE(1,k,2,0,"div",27),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.f.birthDate.errors.required)}}function U(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",4)(1,"app-card",5)(2,"form",6)(3,"label",7)(4,"div",8),e.nrm(5,"span",9),e.j41(6,"span"),e.EFF(7,"Change Image"),e.k0s()()(),e.j41(8,"input",10),e.bIt("change",function(n){o.eBV(t);const r=e.XpG();return o.Njj(r.onFileSelected(n))}),e.k0s()()()(),e.j41(9,"div",4)(10,"app-card",11)(11,"form",12),e.bIt("ngSubmit",function(){o.eBV(t);const n=e.XpG();return o.Njj(n.saveChanges())}),e.j41(12,"div",0)(13,"div",13)(14,"label",14),e.EFF(15,"Full name"),e.k0s(),e.j41(16,"input",15),e.mxI("ngModelChange",function(n){o.eBV(t);const r=e.XpG();return e.DH7(r.user.fullName,n)||(r.user.fullName=n),o.Njj(n)}),e.k0s(),e.DNE(17,C,3,2,"div",16),e.k0s()(),e.j41(18,"div",0)(19,"div",13)(20,"label",14),e.EFF(21,"Mobile number"),e.k0s(),e.j41(22,"input",17),e.mxI("ngModelChange",function(n){o.eBV(t);const r=e.XpG();return e.DH7(r.user.mobile,n)||(r.user.mobile=n),o.Njj(n)}),e.k0s(),e.DNE(23,F,3,2,"div",16),e.k0s()(),e.j41(24,"div",0)(25,"div",13)(26,"label",14),e.EFF(27,"Grade"),e.k0s(),e.j41(28,"select",18),e.mxI("ngModelChange",function(n){o.eBV(t);const r=e.XpG();return e.DH7(r.user.grade,n)||(r.user.grade=n),o.Njj(n)}),e.j41(29,"option",19),e.EFF(30,"Select Grade"),e.k0s(),e.j41(31,"option",20),e.EFF(32,"Grade 3"),e.k0s(),e.j41(33,"option",21),e.EFF(34,"Grade 4"),e.k0s()(),e.DNE(35,x,2,1,"div",16),e.k0s()(),e.j41(36,"div",0)(37,"div",13)(38,"label",22),e.EFF(39,"Birth date"),e.k0s(),e.j41(40,"input",23),e.mxI("ngModelChange",function(n){o.eBV(t);const r=e.XpG();return e.DH7(r.user.birthDate,n)||(r.user.birthDate=n),o.Njj(n)}),e.k0s(),e.DNE(41,I,2,1,"div",16),e.k0s()(),e.j41(42,"div",24)(43,"button",25),e.EFF(44,"Save changes"),e.k0s()()()()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("options",!1),e.R7$(3),e.xc7("background-image","url("+t.previewImage+")"),e.R7$(6),e.Y8G("options",!1),e.R7$(),e.Y8G("formGroup",t.form),e.R7$(5),e.R50("ngModel",t.user.fullName),e.Y8G("ngClass",e.eq3(17,_,t.submitted&&t.f.fullName.invalid)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.fullName.errors),e.R7$(5),e.R50("ngModel",t.user.mobile),e.Y8G("ngClass",e.eq3(19,_,t.submitted&&t.f.mobile.invalid)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.mobile.errors),e.R7$(5),e.R50("ngModel",t.user.grade),e.Y8G("ngClass",e.eq3(21,_,t.submitted&&t.f.grade.invalid)),e.R7$(7),e.Y8G("ngIf",t.submitted&&t.f.grade.errors),e.R7$(5),e.R50("ngModel",t.user.birthDate),e.Y8G("ngClass",e.eq3(23,_,t.submitted&&t.f.birthDate.invalid)),e.R7$(),e.Y8G("ngIf",t.submitted&&t.f.birthDate.errors)}}let G=(()=>{class i{constructor(t,l,n,r){this.router=t,this.userService=l,this.route=n,this.fb=r,this.previewImage="assets/images/user/avatar-4.jpg",this.userId=null,this.selectedFile=null,this.submitted=!1,this.isLoading=!1}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id"),this.utilityService.print("Loaded user details for ID:",this.userId),this.form=this.fb.group({fullName:["",[a.k0.required,a.k0.minLength(3)]],mobile:["",[a.k0.required,a.k0.minLength(11)]],grade:["",[a.k0.required]],birthDate:["",[a.k0.required]],profileImage:[null]}),this.user={fullName:"mina emad",mobile:"01125037505",grade:"Grade 4",birthDate:"2018-04-15",profileImage:null}}get f(){return this.form.controls}onFileSelected(t){if(this.selectedFile=t.target.files[0],!this.selectedFile)return;const l=new FileReader;l.onload=()=>{this.previewImage=l.result},l.readAsDataURL(this.selectedFile),this.form.patchValue({profileImage:this.selectedFile}),this.form.get("profileImage")?.updateValueAndValidity()}saveChanges(){if(this.submitted=!0,this.form.invalid)return;const t=new FormData;t.append("fullName",this.form.value.fullName),t.append("mobile",this.form.value.mobile),t.append("grade",this.form.value.grade),t.append("birthDate",this.form.value.birthDate),this.selectedFile&&t.append("profileImage",this.selectedFile)}static{this.\u0275fac=function(l){return new(l||i)(e.rXU(m.Ix),e.rXU(p.D),e.rXU(m.nX),e.rXU(a.ok))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-user-details"]],decls:3,vars:2,consts:[[1,"row"],[1,"d-flex","justify-content-center","align-items-center",2,"height","80vh"],[1,"text-muted","text-center"],[1,"loader"],[1,"col-sm-6"],["cardTitle","Profile picture","blockClass","table-border-style",1,"col-md-4",3,"options"],["enctype","multipart/form-data",1,"d-flex","justify-content-center"],["for","fileToUpload"],[1,"profile-pic"],[1,"feather","icon-camera"],["type","file","name","fileToUpload","id","fileToUpload","accept","image/*","hidden","",3,"change"],["cardTitle","User info","blockClass","table-border-style",1,"col-md-8",3,"options"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label","fw-bold"],["type","text","name","fullName","placeholder","Full name","formControlName","fullName",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","name","mobile","placeholder","Mobile number","formControlName","mobile",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["name","grade","formControlName","grade","ngModelOptions","{standalone: true}",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["value","","selected",""],["value","Grade 3"],["value","Grade 4"],["for","endDate",1,"form-label","fw-bold"],["name","birthDate","type","date","formControlName","birthDate",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"d-flex"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(l,n){1&l&&(e.j41(0,"div",0),e.nVh(1,v,3,0,"div",1),e.nVh(2,U,45,25),e.k0s()),2&l&&(e.R7$(),e.vxM(n.isLoading?1:-1),e.R7$(),e.vxM(n.isLoading?-1:2))},dependencies:[g.G,u.YU,u.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.cV,a.j4,a.JD,h.i,f.J],styles:[".profile-pic[_ngcontent-%COMP%]{border-radius:50%;height:150px;width:150px;background-size:cover;background-position:center;background-blend-mode:multiply;vertical-align:middle;text-align:center;color:transparent;transition:all .3s ease;text-decoration:none;cursor:pointer}.profile-pic[_ngcontent-%COMP%]:hover{background-color:#00000080;z-index:10000;color:#fff;transition:all .3s ease;text-decoration:none}.profile-pic[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding-top:4.5em;padding-bottom:4.5em}form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none;cursor:pointer}"]})}}return i})()}}]);