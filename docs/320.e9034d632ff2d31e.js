"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[320],{3320:(w,l,i)=>{i.r(l),i.d(l,{Users:()=>y});var p=i(4086),d=i(6661),e=i(3664),r=i(8728),g=i(3925),k=i(4997),b=i(9330),u=i(9211);let _=(()=>{class n{constructor(){this.selectedUser=null}setUser(t){this.selectedUser=t}getUser(){return this.selectedUser}clearUser(){this.selectedUser=null}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=r.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var h=i(2200);const f=[[["","card-actions",""]],"*"],x=["[card-actions]","*"];function P(n,s){if(1&n&&(e.j41(0,"div",9)(1,"div",10),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngClass",t.utilityService.alertType),e.R7$(),e.SpI(" ",t.utilityService.alertMessage," ")}}function C(n,s){1&n&&(e.j41(0,"div",7)(1,"div",11),e.nrm(2,"span",12),e.k0s()())}function m(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){r.eBV(t);const c=e.XpG(2);return r.Njj(c.createUser())}),e.nrm(2,"i",19),e.k0s()()}}function v(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"th",27),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.nrm(14,"img",28),e.k0s(),e.j41(15,"td")(16,"button",29),e.bIt("click",function(){const c=r.eBV(t).$implicit,a=e.XpG(3);return r.Njj(a.onUpdate(c))}),e.nrm(17,"i",30),e.k0s(),e.j41(18,"button",31),e.bIt("click",function(){const c=r.eBV(t).$implicit,a=e.XpG(3);return r.Njj(a.onDelete(c))}),e.nrm(19,"i",32),e.k0s()()()}if(2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.fullName),e.R7$(2),e.JRh(t.username),e.R7$(2),e.JRh(t.mobileNumber),e.R7$(2),e.JRh(t.birthDate),e.R7$(2),e.JRh(t.role)}}function M(n,s){1&n&&(e.j41(0,"tr")(1,"td",33),e.EFF(2," No users found. "),e.k0s()())}function O(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",26)(1,"a",25),e.bIt("click",function(){const c=r.eBV(t).$implicit,a=e.XpG(3);return r.Njj(a.goToPage(c))}),e.EFF(2),e.k0s()()}if(2&n){const t=s.$implicit,o=e.XpG(3);e.R7$(),e.AVh("active",t===o.currentPage),e.R7$(),e.SpI(" ",t," ")}}function F(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Full name"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Username"),e.k0s(),e.j41(10,"th"),e.EFF(11,"Mobile phone"),e.k0s(),e.j41(12,"th"),e.EFF(13,"Birth date"),e.k0s(),e.j41(14,"th"),e.EFF(15,"Role"),e.k0s(),e.j41(16,"th"),e.EFF(17,"Image"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Action"),e.k0s()()(),e.j41(20,"tbody"),e.Z7z(21,v,20,6,"tr",null,e.fX1,!1,M,3,0,"tr"),e.k0s()(),e.j41(24,"nav",22)(25,"ul",23)(26,"li",24)(27,"a",25),e.bIt("click",function(){r.eBV(t);const c=e.XpG(2);return r.Njj(c.prevPage())}),e.EFF(28,"Previous"),e.k0s()(),e.Z7z(29,O,3,3,"li",26,e.fX1),e.j41(31,"li",26)(32,"a",25),e.bIt("click",function(){r.eBV(t);const c=e.XpG(2);return r.Njj(c.nextPage())}),e.EFF(33,"Next"),e.k0s()()()()()}if(2&n){const t=e.XpG(2);e.R7$(21),e.Dyx(t.pagedUsers),e.R7$(5),e.AVh("disabled",1===t.currentPage),e.R7$(3),e.Dyx(t.pages),e.R7$(2),e.AVh("disabled",t.currentPage===t.totalPages)}}function j(n,s){1&n&&(e.j41(0,"div",8)(1,"div",13)(2,"div",14)(3,"h5",15),e.EFF(4,"Users"),e.k0s(),e.SdG(5,0,null,m,3,0),e.k0s(),e.j41(7,"div",16),e.SdG(8,1,null,F,34,5),e.k0s()()())}let y=(()=>{class n{constructor(t,o,c,a,U){this.utilityService=t,this.apiService=o,this.http=c,this.router=a,this.userService=U,this.currentPage=1,this.pageLimit=5,this.isModalOpen=!1,this.isLoading=!1,this.searchTerm="",this.totalElements=0,this.users=[]}ngOnInit(){this.isLoading=!0,this.getUsers()}getUsers(){this.apiService.getUsers({page:0,size:5}).subscribe({next:o=>{this.utilityService.print("Get Users successful:",o),this.users=o.data.content,this.isLoading=!1},error:o=>{this.utilityService.print("Error:",JSON.stringify(o)),this.isLoading=!1}})}get pagedUsers(){const t=(this.currentPage-1)*this.pageLimit;return this.filteredUsers.slice(t,t+this.pageLimit)}get filteredUsers(){return this.searchTerm.trim()?(this.utilityService.print("Search for ",this.searchTerm),this.users.filter(t=>t.fullName.toLowerCase().includes(this.searchTerm.toLowerCase()))):this.users}get totalPages(){return Math.ceil(this.filteredUsers.length/this.pageLimit)}prevPage(){this.currentPage>1&&this.currentPage--}goToPage(t){this.currentPage=t,this.utilityService.print("Go to page: ",this.currentPage)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}onUpdate(t){this.utilityService.print("Navigating to user details:",t),this.userService.setUser(t),this.router.navigate(["/user-details",t.id])}onDelete(t){this.selectedUser=t,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}confirmDelete(){this.isModalOpen=!1,this.apiService.deleteUser(this.selectedUser.id).subscribe({next:t=>{this.utilityService.print("Delete user successfully:",t),this.utilityService.showAlert(t.message,"success"),this.users=this.users.filter(o=>o.id!==this.selectedUser.id)},error:t=>{this.utilityService.print("Error:",t),this.utilityService.showAlert(t.error.message,"error")}})}createUser(){this.router.navigate(["/create-user"])}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(g.Q),e.rXU(k.G),e.rXU(b.Qq),e.rXU(u.Ix),e.rXU(_))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-users"]],ngContentSelectors:x,decls:16,vars:7,consts:[["class","alert-popup",4,"ngIf"],[1,"row"],[1,"modal"],[1,"modal-content"],[1,"modal-actions"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","80vh"],[1,"col-xl-12"],[1,"alert-popup"],[1,"alert-box",3,"ngClass"],[1,"text-muted","text-center"],[1,"loader"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"card-body"],[1,"d-flex","justify-content-end","align-items-end"],[1,"btn","btn-light-primary",3,"click"],[1,"feather","icon-plus"],[1,"table-responsive"],[1,"table","table-striped"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item","disabled"],["href","javascript:",1,"page-link",3,"click"],[1,"page-item"],["scope","row"],["src","assets/images/user/avatar-4.jpg","alt","User-Profile-Image",1,"img-radius","wid-40"],[1,"btn","btn-sm","btn-light-info","m-1",3,"click"],[1,"feather","icon-edit"],[1,"btn","btn-sm","btn-light-danger","m-1",3,"click"],[1,"feather","icon-trash-2"],["colspan","8",1,"text-center","text-muted"]],template:function(o,c){1&o&&(e.NAR(f),e.DNE(0,P,3,2,"div",0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e.EFF(5,"Confirm Delete"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.k0s(),e.j41(8,"div",4)(9,"button",5),e.bIt("click",function(){return c.confirmDelete()}),e.EFF(10,"Yes"),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return c.closeModal()}),e.EFF(12,"No"),e.k0s()()()()(),e.j41(13,"div",1),e.nVh(14,C,3,0,"div",7),e.nVh(15,j,10,0,"div",8),e.k0s()),2&o&&(e.Y8G("ngIf",c.utilityService.alertMessage),e.R7$(2),e.AVh("show",c.isModalOpen),e.R7$(5),e.Lme("Are you sure you want to delete ",null==c.selectedUser?null:c.selectedUser.fullName," with id ",null==c.selectedUser?null:c.selectedUser.id),e.R7$(7),e.vxM(c.isLoading?14:-1),e.R7$(),e.vxM(c.isLoading?-1:15))},dependencies:[p.G,h.YU,h.bT,d.J],styles:['.checkbox-wrapper-31[_ngcontent-%COMP%]:hover   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}.checkbox-wrapper-31[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:30px}.checkbox-wrapper-31[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{fill:#eceff1;transition:ease all .6s;-webkit-transition:ease all .6s}.checkbox-wrapper-31[_ngcontent-%COMP%]   .stroke[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:2px;stroke-dashoffset:100;stroke-dasharray:100;transition:ease all .6s;-webkit-transition:ease all .6s}.checkbox-wrapper-31[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;stroke-dashoffset:22;stroke-dasharray:22;transition:ease all .6s;-webkit-transition:ease all .6s}.checkbox-wrapper-31[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0;top:0;margin:0;opacity:0;-appearance:none;-webkit-appearance:none}.checkbox-wrapper-31[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover{cursor:pointer}.checkbox-wrapper-31[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{fill:#66bb6a}.checkbox-wrapper-31[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .stroke[_ngcontent-%COMP%]{stroke-dashoffset:0}.checkbox-wrapper-31[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{stroke-dashoffset:0}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]{position:relative}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:50%;cursor:pointer;height:28px;width:28px;display:block}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{border:2px solid #fff;border-top:none;border-right:none;content:"";height:6px;left:8px;opacity:0;position:absolute;top:9px;transform:rotate(-45deg);width:12px}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden;display:none;opacity:0}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{background-color:#66bb6a;border-color:#66bb6a}.checkbox-wrapper-18[_ngcontent-%COMP%]   .round[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{opacity:1}.checkbox-wrapper-19[_ngcontent-%COMP%]{box-sizing:border-box;--background-color: #fff;--checkbox-height: 25px}@keyframes _ngcontent-%COMP%_dothabottomcheck-19{0%{height:0}to{height:calc(var(--checkbox-height) / 2)}}@keyframes _ngcontent-%COMP%_dothatopcheck-19{0%{height:0}50%{height:0}to{height:calc(var(--checkbox-height) * 1.2)}}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]{height:var(--checkbox-height);width:var(--checkbox-height);background-color:transparent;border:calc(var(--checkbox-height) * .1) solid #000;border-radius:5px;position:relative;display:inline-block;box-sizing:border-box;transition:border-color ease .2s;cursor:pointer}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:before, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:after{box-sizing:border-box;position:absolute;height:0;width:calc(var(--checkbox-height) * .2);background-color:#34b93d;display:inline-block;transform-origin:left top;border-radius:5px;content:" ";transition:opacity ease .5}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:before{top:calc(var(--checkbox-height) * .72);left:calc(var(--checkbox-height) * .41);box-shadow:0 0 0 calc(var(--checkbox-height) * .05) var(--background-color);transform:rotate(-135deg)}.checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box[_ngcontent-%COMP%]:after{top:calc(var(--checkbox-height) * .37);left:calc(var(--checkbox-height) * .05);transform:rotate(-45deg)}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%], .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]{border-color:#34b93d}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%]:after, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]:after{height:calc(var(--checkbox-height) / 2);animation:_ngcontent-%COMP%_dothabottomcheck-19 .2s ease 0s forwards}.checkbox-wrapper-19[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .check-box[_ngcontent-%COMP%]:before, .checkbox-wrapper-19[_ngcontent-%COMP%]   .check-box.checked[_ngcontent-%COMP%]:before{height:calc(var(--checkbox-height) * 1.2);animation:_ngcontent-%COMP%_dothatopcheck-19 .4s ease 0s forwards}']})}}return n})()}}]);